<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A game where you play a sheepdog herding sheep">
    <meta name="keywords" content="game, arcade, sheepdog, sheep, herding">
    <meta name="author" content="John Rearden">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Geostar+Fill&family=Kdam+Thmor+Pro&family=Zen+Dots&display=swap" rel="stylesheet">
    
    <title>DOGGONE IT</title>
</head>

<body>

    <!-- This div functions as a container for the page -->
    <div id="game-ui">

        <!-- This div holds the various different output elements for the game -->
        <div id="displays">

            <!-- A text output of the number of sheep still to exit -->
            <div id="progress-display">
                <span id="sheep-remaining-text">Sheep&ThickSpace;</span>
                <span id="sheep-remaining">0</span>
                <div id="instructions-link">
                    <button class="instructions-button">
                        <i class="fa-solid fa-info"></i>
                    </button>
                </div>
                
            </div>

            <!-- The main gameplay area, the canvas element, is overlaid with 
                 button which are only diplayed at the end of a level, and some
                 action replay graphical elements only shown during replays.
                 Display of these hidden elements controlled by script -->
            <div id="main-display">
                <canvas id="game-area"></canvas>
                <img src="assets/images/backgrounds/replay.png" 
                     id="replay-banner"
                     alt="replay banner">
                <span id="replay-time">1x</span>

                <div id="end-of-level-display">
                    <div id="end-level-message">Dummy end-level message</div>
                    <div id="level-over-buttons">
                        <button id="action-replay-button">Action Replay</button>
                        <button id="try-again-button">Try Again</button>
                        <button id="next-level-button">Next Level</button>
                        <button id="go-button">ready!</button>
                        <button id="begin-again-button">Begin Again</button>
                        <button class="instructions-button">instructions</button>
                    </div>
                </div>

                <!-- These are the controls for the action replay, which are not
                     displayed during ordinary gameplay -->
                <div id="action-replay-display">
                    <div>
                        <button id="to-start"><i class="fa-solid fa-backward-fast replay-button"></i></button>
                        <button id="rewind"><i class="fa-solid fa-backward replay-button"></i></button>
                        <button id="play"><i class="fa-solid fa-play replay-button"></i></button>
                        <button id="pause"><i class="fa-solid fa-pause replay-button"></i></button>
                        <button id="fast-forward"><i class="fa-solid fa-forward replay-button"></i></button>
                        <button id="finish">Done&nbsp;<i class="fa-solid fa-check replay-button"></i></button>
                    </div>
                    <input type="range" id="replay-slider" 
                           min="0" max="100" value="0">
                </div>
            </div>

            <!-- A time display implemented as a progress bar which runs backwards-->
            <div id="time-display">
                <progress id="time-remaining" max="100" value="100"></progress>
            </div>
        </div>

        <!-- This div contains a modal instructions display, consisting of some
             textural instructions and a video of the game being played -->
        <div class="modal">
            <div id="instructions-holder">
                <h1>Instructions</h1>
                <p>
                    You're a dog! The sheep are scared of you, so they'll run 
                    directly away from you as long as there's nothing in their way.
                    You must chase them out of the exit at the top of the screen, before
                    your time runs out!
                </p>
                
                <div id="columns">
                    <div id="video-holder">
                        <video id="instruction-video" 
                            controls loop="true" muted="true" #t="0">
                        <source src="assets/videos/instructions-video.mp4" type="video/mp4">
                        Your browser does not support the video tag
                        </video>
                    </div>
                    
                    <div id="movement-instructions">
                        <h2>You can move in 2 ways:</h2>
                        <ol>
                            <li>Tap/click on the screen to tell your dog where to go</li>
                            <li>Drag your finger/mouse to lay out a path for him</li>
                        </ol>
                    </div>
                </div>
                
                <button id="close-instructions-button">
                    OK, let's play!&ensp;
                    <i class="fa-solid fa-thumbs-up"></i>
                </button>    
                
            </div>
        </div>
    </div>

    <!-- This div is a semi-opaque mask (full size of screen) which sits above the 
         canvas on which the game is displayed, and below the controls displayed 
         both before the game starts and at the end of each level. It's purpose is 
         to foreground the buttons the player must use to proceed. -->
    <div id="dimmer-mask"></div>

    <script src="https://kit.fontawesome.com/f2f8e80db6.js" crossorigin="anonymous"></script>
    <script type="module" src="assets/js/index.js"></script>
</body>

</html>